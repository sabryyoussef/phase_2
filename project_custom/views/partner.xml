<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_partner_project_data_form" model="ir.ui.view">
        <field name="name">res.partner.project.data</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <notebook position="inside">
                <page string="Company Details"
                    modifiers="{'invisible':[('company_type','=', 'person')]}">
                    <group>
                        <group>
                            <field name="price_per_share" />
                            <field name="total_number_shares" />
                            <field name="total_share_value" />
                        </group>
                    </group>
                </page>
            </notebook>

            <xpath expr="//group[@name='main_documents']" position="inside">
                <field name="passport"
                    modifiers="{'invisible':[('company_type','!=', 'person')]}"
                    domain="[('partner_id','!=', False),('partner_id','=', id)]"
                    context="{'default_partner_id': id}" />
                <field name="current_visa"
                    domain="[('partner_id','!=', False),('partner_id','=', id)]"
                    modifiers="{'invisible':['|',('company_type','!=', 'person'),('residency','=', True)]}" />
                <field name="entry_stamp"
                    domain="[('partner_id','!=', False),('partner_id','=', id)]"
                    modifiers="{'invisible':['|',('company_type','!=', 'person'),('residency','=', True)]}" />
                <field name="residence_visa_id"
                    domain="[('partner_id','!=', False),('partner_id','=', id)]"
                    modifiers="{'invisible':['|',('company_type','!=', 'person'),('residency','=', True)]}" />
            </xpath>

            <field name="category_id" position="after">
                <field name="permanent_address_id" />
                <field name="all_license_activity_ids" widget="many2many_tags" invisible="1" />
                <field name="license_activity_ids"
                    modifiers="{'invisible':[('company_type','!=', 'company')]}"
                    context="{'default_license_authority_id':license_authority_id}">
                    <list editable="bottom">
                        <field name="name" />
                        <field name="code" />
                    </list>
                    <form>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="code" />
                            </group>
                            <group>
                                <field name="license_authority_id"
                                    options="{'no_quick_create':True,'no_create_edit':True,'no_create': True}" />
                            </group>
                        </group>
                    </form>
                </field>
            </field>

            <page name="internal_notes" position="after">
                <page string="Visa Application">
                    <field name="contact_visa_application_ids">
                        <list>
                            <field name="parent_id" invisible="1" />
                            <field name="partner_id" />
                            <field name="visa_type" />
                            <field name="eid_no" />
                            <field name="is_active" />
                            <field name="visa_start_date" />
                            <field name="visa_expiry_date" />
                            <field name="eid_document" />
                        </list>
                        <form>
                            <group>
                                <group>
                                    <field name="parent_id" invisible="1" />
                                    <field name="partner_id" required="1" />
                                    <field name="visa_type" />
                                </group>
                                <group>
                                    <field name="eid_no" required="1" />
                                    <field name="is_active" />
                                    <field name="visa_start_date" />
                                    <field name="visa_expiry_date" />
                                    <field name="eid_document" />
                                </group>
                            </group>
                        </form>
                    </field>
                </page>
            </page>
        </field>
    </record>
</odoo>